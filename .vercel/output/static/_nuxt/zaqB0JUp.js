import{k as h,c as i,o as n,F as C,f as w,a as t,b as p,d as y,r as P,i as _,t as s,g as S,n as B,w as T,x as $,h as x,l as A,G as z}from"./SG-_7NVK.js";import{_ as M}from"./DlAUqK2U.js";import{T as D}from"./B3QJHGYy.js";import"./37N3Lnuz.js";import"./DAKWoY-d.js";const L={class:"hotels-grid"},R={class:"hotel-image-container"},j=["src","alt"],U={class:"hotel-badge"},I={class:"special-badges"},G={key:0,class:"special-badge",style:{background:"#a78bfa",color:"white"}},H={key:1,class:"special-badge",style:{background:"#22c55e",color:"white"}},E={key:2,class:"special-badge",style:{background:"#ef4444",color:"white"}},q={key:3,class:"special-badge",style:{background:"#f59e42",color:"white"}},F={key:4,class:"special-badge",style:{background:"#ef4444",color:"white"}},O={class:"overlay-content"},J={style:{"font-size":"1.3rem","font-weight":"700"}},K={class:"hotel-content"},Q={class:"hotel-header"},W={class:"hotel-title"},X={class:"hotel-rating"},Y={class:"stars"},Z={class:"rating-text"},ee={class:"hotel-info"},te={class:"info-item"},ae={class:"info-item"},se={class:"hotel-footer"},ne={class:"price-group"},ie={key:0,class:"price"},oe={class:"old-price"},le={class:"discount-price"},ce={key:1,class:"price"},de={class:"price-unit"},re=["src"],ue={class:"overlay-content"},ge={__name:"CardRooms",props:{rooms:{type:Array,required:!0},maxPrice:Number,minPrice:Number,maxRating:Number},setup(r){const o=r;function u(l){return l?l.toLocaleString("vi-VN")+"₫":""}const v=h(()=>[...o.rooms].sort((l,a)=>l.maPhong.localeCompare(a.maPhong))),g=l=>{isActive.value=l;const a=pixelGrid.value.querySelectorAll(".pixel");a.forEach((d,m)=>{setTimeout(()=>{d.style.opacity=isActive.value?"1":"0"},m*o.animationStepDuration*1e3/a.length)}),setTimeout(()=>{activeContent.value.style.display=isActive.value?"block":"none"},o.animationStepDuration*1e3)};return(l,a)=>{const d=P("va-icon"),m=P("va-button"),k=P("PixelatedImageCard");return n(),i("div",L,[(n(!0),i(C,null,w($(v),e=>(n(),i("div",{class:"hotel-card",key:e.maPhong},[t("div",R,[t("img",{src:e.urlAnhChinh||"https://i.pinimg.com/736x/5c/f2/cd/5cf2cd74c675ddbd78c0defbce34a63d.jpg",class:"hotel-img",alt:e.loaiPhong||"Phòng khách sạn"},null,8,j),t("div",U,[p(d,{name:"verified",size:"small"}),a[2]||(a[2]=y(" Đã xác minh "))]),t("div",I,[e.soSaoTrungBinh===r.maxRating?(n(),i("div",G," Best ")):_("",!0),e.giaPhong===r.minPrice?(n(),i("div",H," Low ")):_("",!0),e.giaPhong===r.maxPrice?(n(),i("div",E," High ")):_("",!0),e.isNew?(n(),i("div",q," Mới ")):_("",!0),e.isHot?(n(),i("div",F," Hot ")):_("",!0)]),t("div",O,[t("div",J," Mã phòng: "+s(e.maPhong),1)])]),t("div",K,[t("div",Q,[t("h3",W,s(e.loaiPhong),1),t("div",X,[t("div",Y,[(n(!0),i(C,null,w(Math.round(e.soSaoTrungBinh||0),f=>(n(),S(d,{name:"star",color:"warning",key:f,size:"small"}))),128))]),t("span",Z,s(e.soSaoTrungBinh||0),1)])]),t("div",ee,[t("span",te,"Tầng: "+s(e.tang),1),t("span",ae,[a[3]||(a[3]=y(" Tình trạng: ")),t("span",{class:B(e.tinhTrang==="1"?"status-available":"status-unavailable")},[p(d,{name:e.tinhTrang==="1"?"check_circle":"block",color:e.tinhTrang==="1"?"success":"danger"},null,8,["name","color"]),y(" "+s(e.tinhTrang==="1"?"Còn trống":"Đã được đặt"),1)],2)])]),t("div",se,[t("div",ne,[e.giaUuDai&&e.giaUuDai<e.giaPhong?(n(),i("span",ie,[t("span",oe,s(u(e.giaPhong)),1),t("span",le,s(u(e.giaUuDai)),1)])):(n(),i("span",ce,s(u(e.giaPhong)),1)),t("span",de,"/ "+s(e.donViTinh||"đêm"),1)]),p(m,{color:"primary",size:"medium",class:"book-btn"},{default:T(()=>a[4]||(a[4]=[y("Đặt ngay")])),_:1,__:[4]})])]),t("div",{class:"pixelated-image-card",style:{position:"relative",overflow:"hidden"},onMouseenter:a[0]||(a[0]=f=>g(!0)),onMouseleave:a[1]||(a[1]=f=>g(!1))},[p(k,{"first-content":e,"second-content":e,"grid-size":10,"pixel-color":"#000","animation-step-duration":.2,"aspect-ratio":"75%"},{firstContent:T(()=>[t("img",{src:e.urlAnhChinh,style:{width:"100%",height:"200px","object-fit":"cover"}},null,8,re),t("div",null,s(e.loaiPhong),1)]),secondContent:T(()=>[t("div",ue,[t("div",null,"Mã phòng: "+s(e.maPhong),1),t("div",null,"Loại phòng: "+s(e.loaiPhong),1),t("div",null,"Giá: "+s(e.giaPhong.toLocaleString("vi-VN"))+"₫",1),t("div",null,"Giá ưu đãi: "+s(e.giaUuDai.toLocaleString("vi-VN"))+"₫",1),t("div",null,"Tầng: "+s(e.tang),1),t("div",null,"Tình trạng: "+s(e.tinhTrang==="1"?"Còn trống":"Đã đặt"),1),t("div",null,"Đơn vị: "+s(e.donViTinh),1),t("div",null,"Sao: "+s(e.soSaoTrungBinh),1)])]),_:2},1032,["first-content","second-content"])],32)]))),128))])}}},he=M(ge,[["__scopeId","data-v-52f6cb8e"]]),pe={props:{totalPages:{type:Number,default:15},modelValue:{type:Number,default:1}},emits:["update:modelValue"],computed:{value:{get(){return this.modelValue},set(r){this.$emit("update:modelValue",r)}}}};function ve(r,o,u,v,g,l){const a=P("VaPagination");return n(),S(a,{modelValue:l.value,"onUpdate:modelValue":o[0]||(o[0]=d=>l.value=d),pages:u.totalPages,"visible-pages":4,class:"justify-center sm:justify-start"},null,8,["modelValue","pages"])}const me=M(pe,[["render",ve]]),_e={class:"page-container"},fe={key:0,class:"modal-loading"},be={key:1,class:"error-message"},ye={key:2},V=8,xe={__name:"phong",setup(r){const o=x([]),u=x(!0),v=x(null),g=x(1);A(async()=>{try{const c=await z.get("/api/my-data");o.value=c.data}catch(c){v.value=c.message||"Lỗi khi gọi API"}finally{u.value=!1}});const l=h(()=>Math.max(...o.value.map(c=>c.soSaoTrungBinh||0))),a=h(()=>Math.max(...o.value.map(c=>c.giaPhong||0))),d=h(()=>Math.min(...o.value.map(c=>c.giaPhong||0))),m=h(()=>Object.fromEntries(o.value.map(c=>[c.maPhong,Math.floor(Math.random()*500)+1]))),k=h(()=>Math.max(...Object.values(m.value))),e=h(()=>Math.ceil(o.value.length/V)),f=h(()=>o.value.slice((g.value-1)*V,g.value*V));return(c,b)=>(n(),i(C,null,[p(D),t("div",_e,[u.value?(n(),i("div",fe,b[1]||(b[1]=[t("div",{class:"modal-loading-backdrop"},null,-1),t("div",{class:"modal-loading-content"},[t("span",{class:"loader"}),t("span",null,"Đang tải dữ liệu...")],-1)]))):_("",!0),v.value?(n(),i("div",be,s(v.value),1)):(n(),i("div",ye,[p(he,{rooms:f.value,"max-rating":l.value,"max-booked":k.value,"max-price":a.value,"min-price":d.value,"booked-map":m.value},null,8,["rooms","max-rating","max-booked","max-price","min-price","booked-map"]),p(me,{modelValue:g.value,"onUpdate:modelValue":b[0]||(b[0]=N=>g.value=N),"total-pages":e.value,class:"mt-6"},null,8,["modelValue","total-pages"])]))])],64))}},Me=M(xe,[["__scopeId","data-v-cff0fea4"]]);export{Me as default};
