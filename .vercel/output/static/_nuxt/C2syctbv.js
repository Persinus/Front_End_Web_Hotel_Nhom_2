import{k as v,c as i,o as n,F as V,f as w,a as t,b as h,d as x,r as P,i as m,t as s,g as S,n as N,w as T,x as B,h as b,l as $,G as A,m as z}from"./Ce4noQ1C.js";import{_ as C}from"./DlAUqK2U.js";import{T as D}from"./Dv5Ie4CG.js";import"./Dq3fX5XE.js";import"./DZgFOvVP.js";const L={class:"hotels-grid"},R={class:"hotel-image-container"},j=["src","alt"],U={class:"hotel-badge"},I={class:"special-badges"},G={key:0,class:"special-badge",style:{background:"#a78bfa",color:"white"}},H={key:1,class:"special-badge",style:{background:"#22c55e",color:"white"}},E={key:2,class:"special-badge",style:{background:"#ef4444",color:"white"}},q={key:3,class:"special-badge",style:{background:"#f59e42",color:"white"}},F={key:4,class:"special-badge",style:{background:"#ef4444",color:"white"}},O={class:"overlay-content"},J={style:{"font-size":"1.3rem","font-weight":"700"}},K={class:"hotel-content"},Q={class:"hotel-header"},W={class:"hotel-title"},X={class:"hotel-rating"},Y={class:"stars"},Z={class:"rating-text"},ee={class:"hotel-info"},te={class:"info-item"},ae={class:"info-item"},se={class:"hotel-footer"},ne={class:"price-group"},ie={key:0,class:"price"},oe={class:"old-price"},le={class:"discount-price"},ce={key:1,class:"price"},de={class:"price-unit"},re=["src"],ue={class:"overlay-content"},ge={__name:"CardRooms",props:{rooms:{type:Array,required:!0},maxPrice:Number,minPrice:Number,maxRating:Number},setup(u){const o=u;function d(l){return l?l.toLocaleString("vi-VN")+"₫":""}const p=v(()=>[...o.rooms].sort((l,a)=>l.maPhong.localeCompare(a.maPhong))),g=l=>{isActive.value=l;const a=pixelGrid.value.querySelectorAll(".pixel");a.forEach((r,_)=>{setTimeout(()=>{r.style.opacity=isActive.value?"1":"0"},_*o.animationStepDuration*1e3/a.length)}),setTimeout(()=>{activeContent.value.style.display=isActive.value?"block":"none"},o.animationStepDuration*1e3)};return(l,a)=>{const r=P("va-icon"),_=P("va-button"),k=P("PixelatedImageCard");return n(),i("div",L,[(n(!0),i(V,null,w(B(p),e=>(n(),i("div",{class:"hotel-card",key:e.maPhong},[t("div",R,[t("img",{src:e.urlAnhChinh||"https://i.pinimg.com/736x/5c/f2/cd/5cf2cd74c675ddbd78c0defbce34a63d.jpg",class:"hotel-img",alt:e.loaiPhong||"Phòng khách sạn"},null,8,j),t("div",U,[h(r,{name:"verified",size:"small"}),a[2]||(a[2]=x(" Đã xác minh "))]),t("div",I,[e.soSaoTrungBinh===u.maxRating?(n(),i("div",G," Best ")):m("",!0),e.giaPhong===u.minPrice?(n(),i("div",H," Low ")):m("",!0),e.giaPhong===u.maxPrice?(n(),i("div",E," High ")):m("",!0),e.isNew?(n(),i("div",q," Mới ")):m("",!0),e.isHot?(n(),i("div",F," Hot ")):m("",!0)]),t("div",O,[t("div",J," Mã phòng: "+s(e.maPhong),1)])]),t("div",K,[t("div",Q,[t("h3",W,s(e.loaiPhong),1),t("div",X,[t("div",Y,[(n(!0),i(V,null,w(Math.round(e.soSaoTrungBinh||0),f=>(n(),S(r,{name:"star",color:"warning",key:f,size:"small"}))),128))]),t("span",Z,s(e.soSaoTrungBinh||0),1)])]),t("div",ee,[t("span",te,"Tầng: "+s(e.tang),1),t("span",ae,[a[3]||(a[3]=x(" Tình trạng: ")),t("span",{class:N(e.tinhTrang==="1"?"status-available":"status-unavailable")},[h(r,{name:e.tinhTrang==="1"?"check_circle":"block",color:e.tinhTrang==="1"?"success":"danger"},null,8,["name","color"]),x(" "+s(e.tinhTrang==="1"?"Còn trống":"Đã được đặt"),1)],2)])]),t("div",se,[t("div",ne,[e.giaUuDai&&e.giaUuDai<e.giaPhong?(n(),i("span",ie,[t("span",oe,s(d(e.giaPhong)),1),t("span",le,s(d(e.giaUuDai)),1)])):(n(),i("span",ce,s(d(e.giaPhong)),1)),t("span",de,"/ "+s(e.donViTinh||"đêm"),1)]),h(_,{color:"primary",size:"medium",class:"book-btn"},{default:T(()=>a[4]||(a[4]=[x("Đặt ngay")])),_:1,__:[4]})])]),t("div",{class:"pixelated-image-card",style:{position:"relative",overflow:"hidden"},onMouseenter:a[0]||(a[0]=f=>g(!0)),onMouseleave:a[1]||(a[1]=f=>g(!1))},[h(k,{"first-content":e,"second-content":e,"grid-size":10,"pixel-color":"#000","animation-step-duration":.2,"aspect-ratio":"75%"},{firstContent:T(()=>[t("img",{src:e.urlAnhChinh,style:{width:"100%",height:"200px","object-fit":"cover"}},null,8,re),t("div",null,s(e.loaiPhong),1)]),secondContent:T(()=>[t("div",ue,[t("div",null,"Mã phòng: "+s(e.maPhong),1),t("div",null,"Loại phòng: "+s(e.loaiPhong),1),t("div",null,"Giá: "+s(e.giaPhong.toLocaleString("vi-VN"))+"₫",1),t("div",null,"Giá ưu đãi: "+s(e.giaUuDai.toLocaleString("vi-VN"))+"₫",1),t("div",null,"Tầng: "+s(e.tang),1),t("div",null,"Tình trạng: "+s(e.tinhTrang==="1"?"Còn trống":"Đã đặt"),1),t("div",null,"Đơn vị: "+s(e.donViTinh),1),t("div",null,"Sao: "+s(e.soSaoTrungBinh),1)])]),_:2},1032,["first-content","second-content"])],32)]))),128))])}}},he=C(ge,[["__scopeId","data-v-52f6cb8e"]]),pe={props:{totalPages:{type:Number,default:15},modelValue:{type:Number,default:1}},emits:["update:modelValue"],computed:{value:{get(){return this.modelValue},set(u){this.$emit("update:modelValue",u)}}}};function ve(u,o,d,p,g,l){const a=P("VaPagination");return n(),S(a,{modelValue:l.value,"onUpdate:modelValue":o[0]||(o[0]=r=>l.value=r),pages:d.totalPages,"visible-pages":4,class:"justify-center sm:justify-start"},null,8,["modelValue","pages"])}const me=C(pe,[["render",ve]]),_e={class:"page-container"},fe={key:0,class:"modal-loading"},be={key:1,class:"error-message"},ye={key:2},xe=9,Pe={__name:"phong",setup(u){const o=b([]),d=b(!0),p=b(null),g=b(1),l=b(1),a=async()=>{d.value=!0;try{const c=await z.get(`/TatCaTruyCap/phong-rutgon?page=${g.value}&pageSize=${xe}`);o.value=c.data.data||c.data,l.value=3}catch(c){p.value=c.message||"Lỗi khi gọi API"}finally{d.value=!1}};$(a),A(g,a);const r=v(()=>Math.max(...o.value.map(c=>c.soSaoTrungBinh||0))),_=v(()=>Math.max(...o.value.map(c=>c.giaPhong||0))),k=v(()=>Math.min(...o.value.map(c=>c.giaPhong||0))),e=v(()=>Object.fromEntries(o.value.map(c=>[c.maPhong,Math.floor(Math.random()*500)+1]))),f=v(()=>Math.max(...Object.values(e.value)));return(c,y)=>(n(),i(V,null,[h(D),t("div",_e,[d.value?(n(),i("div",fe,y[1]||(y[1]=[t("div",{class:"modal-loading-backdrop"},null,-1),t("div",{class:"modal-loading-content"},[t("span",{class:"loader"}),t("span",null,"Đang tải dữ liệu...")],-1)]))):m("",!0),p.value?(n(),i("div",be,s(p.value),1)):(n(),i("div",ye,[h(he,{rooms:o.value,"max-rating":r.value,"max-booked":f.value,"max-price":_.value,"min-price":k.value,"booked-map":e.value},null,8,["rooms","max-rating","max-booked","max-price","min-price","booked-map"]),h(me,{modelValue:g.value,"onUpdate:modelValue":y[0]||(y[0]=M=>g.value=M),"total-pages":l.value,class:"mt-6"},null,8,["modelValue","total-pages"])]))])],64))}},Se=C(Pe,[["__scopeId","data-v-ea329d8e"]]);export{Se as default};
