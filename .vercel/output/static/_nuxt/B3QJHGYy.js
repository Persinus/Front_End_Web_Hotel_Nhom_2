import{_ as X}from"./37N3Lnuz.js";import{h as d,l as j,P as Z,k as V,c as r,o as c,a as e,b as n,S as B,w as a,i as w,z as F,T as ee,j as te,O as ne,J as se,r as P,n as L,F as R,f as $,t as g,g as oe,d as I,x as le,m as ae}from"./SG-_7NVK.js";import{u as ie}from"./DAKWoY-d.js";import{_ as G}from"./DlAUqK2U.js";const ce={__name:"DropDown",props:{offset:{type:Number,default:0},placement:{type:String,default:"bottom-end"}},setup(M){const u=M,_=d(!1),f=d(null);function x(i){_.value=!_.value}function v(i){f.value&&!f.value.contains(i.target)&&(_.value=!1)}j(()=>{document.addEventListener("click",v)}),Z(()=>{document.removeEventListener("click",v)});const b=V(()=>{let i=`margin-top:${u.offset}px;`;return u.placement.includes("top")?i=`bottom:100%;${u.placement.includes("end")?"right:0;":"left:0;"}margin-bottom:${u.offset}px;`:i+=u.placement.includes("end")?"right:0;":"left:0;",i});return(i,C)=>(c(),r("div",{class:"dropdown-wrapper",ref_key:"wrapper",ref:f},[e("div",{onClick:x},[B(i.$slots,"anchor",{},void 0,!0)]),n(ee,{name:"fade"},{default:a(()=>[_.value?(c(),r("div",{key:0,class:"dropdown-content",style:F(b.value)},[B(i.$slots,"default",{},void 0,!0)],4)):w("",!0)]),_:3})],512))}},de=G(ce,[["__scopeId","data-v-8d3eba3b"]]),re={class:"container"},ue={class:"nav-list"},me={class:"header-actions"},ve={class:"language-selector"},pe={class:"currency-selector"},ge=["title"],_e={key:0,class:"notifications"},fe={key:0,class:"notification-badge"},he={key:0,class:"notification-dropdown"},ke={class:"notification-list"},we={class:"notification-content"},be={class:"notification-time"},ye={class:"auth-section"},xe={class:"user-avatar"},Ce={class:"avatar-container"},De=["src"],Te={class:"user-info"},Le={class:"username"},Ve={class:"user-role"},Me={class:"dropdown-content"},He={class:"user-profile-section"},Ne={class:"profile-header"},Se=["src"],Ee={class:"dropdown-menu-items"},ze={key:1,class:"auth-buttons"},Ue={__name:"Header",setup(M){const u=te(),_=[{title:"Trang ch·ªß",link:"/",icon:"home"},{title:"ƒê·∫∑t ph√≤ng",link:"/Phong",icon:"hotel"},{title:"D·ªãch v·ª•",link:"/DichVu",icon:"room_service"},{title:"N·ªôi quy",link:"/HotelRegulations",icon:"rule"},{title:"Game",link:"/Trangchoigame",icon:"games"}],f=[{text:"üáªüá≥ Ti·∫øng Vi·ªát",value:"vi"},{text:"üá∫üá∏ English",value:"en"},{text:"üáØüáµ Êó•Êú¨Ë™û",value:"ja"}],x=[{text:"VND",value:"vnd"},{text:"USD",value:"usd"},{text:"EUR",value:"eur"}],v=d(!1),b=d(!1),i=d(0),C=d("vi"),H=d("vnd"),D=d(!1),T=d(3),K=d([{id:1,message:"ƒê·∫∑t ph√≤ng c·ªßa b·∫°n ƒë√£ ƒë∆∞·ª£c x√°c nh·∫≠n",time:"5 ph√∫t tr∆∞·ªõc"},{id:2,message:"∆Øu ƒë√£i ƒë·∫∑c bi·ªát: Gi·∫£m 20% cho l·∫ßn ƒë·∫∑t ti·∫øp theo",time:"1 gi·ªù tr∆∞·ªõc"},{id:3,message:"Check-in s·ªõm ƒë√£ ƒë∆∞·ª£c ch·∫•p thu·∫≠n",time:"2 gi·ªù tr∆∞·ªõc"}]),N=ie(),y=V(()=>N.isLoggedIn()),o=d(null),S=V({get:()=>u.isDarkMode,set:p=>u.setDarkMode(p)}),Q=()=>{v.value=!v.value},E=()=>{v.value=!1},Y=()=>{D.value=!D.value},q=()=>{T.value=0},J=()=>{N.logout(),o.value=null,window.location.href="/"},z=()=>{const p=window.pageYOffset||document.documentElement.scrollTop;b.value=p>50;const t=document.body.scrollTop||document.documentElement.scrollTop,m=document.documentElement.scrollHeight-document.documentElement.clientHeight;i.value=t/m*100},U=async()=>{try{const p=await ae.get("/xacthuc/profile");o.value=p.data.profile}catch{o.value=null}};function W(){u.toggleDarkMode()}return j(()=>{y.value&&U(),window.addEventListener("scroll",z)}),ne(()=>{window.removeEventListener("scroll",z)}),se(y,p=>{p?U():o.value=null}),(p,t)=>{const m=X,l=P("va-icon"),O=P("va-select");return c(),r("header",{class:L(["header",{dark:le(u).isDarkMode,scrolled:b.value}])},[e("div",re,[n(m,{class:"logo",to:"/"},{default:a(()=>t[2]||(t[2]=[e("div",{class:"logo-icon"},[e("svg",{viewBox:"0 0 24 24",class:"logo-svg"},[e("path",{d:"M12 2L2 7v10c0 5.55 3.84 10 9 11 1.16.21 2.76.21 3.91 0 5.16-1 9-5.45 9-11V7l-10-5z"}),e("path",{d:"M12 7v5l4 2-4 2v5"})])],-1),e("div",{class:"logo-text"},[e("span",{class:"brand-name"},"OceanView"),e("span",{class:"brand-tagline"},"Luxury Hotels")],-1)])),_:1,__:[2]}),e("button",{class:L(["menu-toggle",{active:v.value}]),onClick:Q},t[3]||(t[3]=[e("span",{class:"hamburger-line"},null,-1),e("span",{class:"hamburger-line"},null,-1),e("span",{class:"hamburger-line"},null,-1)]),2),e("nav",{class:L(["nav",{"nav-open":v.value}])},[e("ul",ue,[(c(),r(R,null,$(_,s=>e("li",{key:s.title,class:"nav-item"},[n(m,{class:"nav-link",to:s.link,"active-class":"active","exact-active-class":"active",onClick:E},{default:a(()=>[n(l,{name:s.icon,size:"small",class:"nav-icon"},null,8,["name"]),e("span",null,g(s.title),1)]),_:2},1032,["to"])])),64))])],2),e("div",me,[e("div",ve,[n(O,{modelValue:C.value,"onUpdate:modelValue":t[0]||(t[0]=s=>C.value=s),options:f,class:"language-select",preset:"bordered","max-visible-options":3},{prepend:a(()=>[n(l,{name:"language",size:"small"})]),_:1},8,["modelValue"])]),e("div",pe,[n(O,{modelValue:H.value,"onUpdate:modelValue":t[1]||(t[1]=s=>H.value=s),options:x,class:"currency-select",preset:"bordered","max-visible-options":3},{prepend:a(()=>[n(l,{name:"attach_money",size:"small"})]),_:1},8,["modelValue"])]),e("button",{class:"theme-toggle",onClick:W,title:S.value?"Chuy·ªÉn sang Light Mode":"Chuy·ªÉn sang Dark Mode"},[n(l,{name:S.value?"light_mode":"dark_mode"},null,8,["name"])],8,ge),y.value?(c(),r("div",_e,[e("button",{class:"notification-btn",onClick:Y},[n(l,{name:"notifications"}),T.value>0?(c(),r("span",fe,g(T.value),1)):w("",!0)]),D.value?(c(),r("div",he,[e("div",{class:"notification-header"},[t[4]||(t[4]=e("h4",null,"Th√¥ng b√°o",-1)),e("button",{class:"mark-all-read",onClick:q},"ƒê√°nh d·∫•u ƒë√£ ƒë·ªçc")]),e("div",ke,[(c(!0),r(R,null,$(K.value,s=>(c(),r("div",{key:s.id,class:"notification-item"},[e("div",we,[e("p",null,g(s.message),1),e("span",be,g(s.time),1)])]))),128))])])):w("",!0)])):w("",!0),e("div",ye,[y.value?(c(),oe(de,{key:0,placement:"bottom-end",class:"user-dropdown"},{anchor:a(()=>{var s,h,k,A;return[e("div",xe,[e("div",Ce,[e("img",{src:(s=o.value)!=null&&s.HinhAnhURL&&o.value.HinhAnhURL!=="string"?o.value.HinhAnhURL:"https://i.pinimg.com/736x/cd/62/46/cd624642b71af4a1d73f69b1290c751a.jpg",alt:"Avatar",class:"avatar"},null,8,De),t[5]||(t[5]=e("div",{class:"status-indicator online"},null,-1))]),e("div",Te,[e("span",Le,g(((h=o.value)==null?void 0:h.HoTen)||((k=o.value)==null?void 0:k.TenTaiKhoan)||"Ng∆∞·ªùi d√πng"),1),e("span",Ve,g((A=o.value)==null?void 0:A.Vaitro),1)]),n(l,{name:"expand_more",size:"small",class:"dropdown-arrow"})])]}),default:a(()=>{var s,h,k;return[e("div",Me,[e("div",He,[e("div",Ne,[e("img",{src:((s=o.value)==null?void 0:s.HinhAnhURL)||"https://i.pinimg.com/736x/cd/62/46/cd624642b71af4a1d73f69b1290c751a.jpg",class:"profile-avatar"},null,8,Se),e("div",null,[e("h4",null,g(((h=o.value)==null?void 0:h.HoTen)||"Ng∆∞·ªùi d√πng"),1),e("p",null,g((k=o.value)==null?void 0:k.Email),1)])])]),t[11]||(t[11]=e("div",{class:"dropdown-divider"},null,-1)),e("div",Ee,[n(m,{to:"/profile",class:"dropdown-item"},{default:a(()=>[n(l,{name:"person"}),t[6]||(t[6]=e("span",null,"H·ªì s∆° c√° nh√¢n",-1))]),_:1,__:[6]}),n(m,{to:"/bookings",class:"dropdown-item"},{default:a(()=>[n(l,{name:"hotel"}),t[7]||(t[7]=e("span",null,"ƒê·∫∑t ph√≤ng c·ªßa t√¥i",-1))]),_:1,__:[7]}),n(m,{to:"/favorites",class:"dropdown-item"},{default:a(()=>[n(l,{name:"favorite"}),t[8]||(t[8]=e("span",null,"Y√™u th√≠ch",-1))]),_:1,__:[8]}),n(m,{to:"/settings",class:"dropdown-item"},{default:a(()=>[n(l,{name:"settings"}),t[9]||(t[9]=e("span",null,"C√†i ƒë·∫∑t",-1))]),_:1,__:[9]})]),t[12]||(t[12]=e("div",{class:"dropdown-divider"},null,-1)),e("div",{class:"dropdown-item logout-item",onClick:J},[n(l,{name:"logout"}),t[10]||(t[10]=e("span",null,"ƒêƒÉng xu·∫•t",-1))])])]}),_:1})):(c(),r("div",ze,[n(m,{to:"/DangNhapPhu",class:"btn btn-outline"},{default:a(()=>[n(l,{name:"login",size:"small"}),t[13]||(t[13]=I(" ƒêƒÉng nh·∫≠p "))]),_:1,__:[13]}),n(m,{to:"/DangKy",class:"btn btn-primary"},{default:a(()=>[n(l,{name:"person_add",size:"small"}),t[14]||(t[14]=I(" ƒêƒÉng k√Ω "))]),_:1,__:[14]})]))])])]),v.value?(c(),r("div",{key:0,class:"mobile-overlay",onClick:E})):w("",!0),e("div",{class:"scroll-progress",style:F({width:i.value+"%"})},null,4)],2)}}},Re=G(Ue,[["__scopeId","data-v-5d8f5474"]]);export{Re as T};
