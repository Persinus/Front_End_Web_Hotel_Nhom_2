import{h as i,k as h,l as U,c as a,e as k,a as t,i as w,n as o,y as H,d as M,p as $,N as F,z as Y,t as B,o as e}from"./SG-_7NVK.js";import{_ as A}from"./DlAUqK2U.js";const K={class:"set-password-page"},O={class:"main-container"},Q={class:"lock-icon-container"},R={class:"form-group"},X={class:"input-wrapper"},Z=["type"],j=["title"],G={key:0,viewBox:"0 0 24 24"},J={key:1,viewBox:"0 0 24 24"},W={key:0,class:"password-strength"},ss={class:"strength-bar"},ts={class:"form-group"},as={class:"input-wrapper"},es=["type"],ls={key:0,class:"input-status"},is={key:0,class:"error-message"},os={class:"requirements-section"},ns={class:"requirements-list"},vs={class:"requirement-icon"},us={key:0,viewBox:"0 0 24 24"},ds={key:1,class:"requirement-dot"},rs={class:"requirement-icon"},cs={key:0,viewBox:"0 0 24 24"},ps={key:1,class:"requirement-dot"},hs={class:"requirement-icon"},bs={key:0,viewBox:"0 0 24 24"},ms={key:1,class:"requirement-dot"},fs={class:"requirement-icon"},gs={key:0,viewBox:"0 0 24 24"},ks={key:1,class:"requirement-dot"},ws=["disabled"],Ms={class:"btn-content"},xs={key:0,viewBox:"0 0 24 24",class:"btn-icon"},ys={key:1,class:"loading-spinner"},zs={class:"toast-content"},Ls={key:0,viewBox:"0 0 24 24",class:"toast-icon"},Bs={key:1,viewBox:"0 0 24 24",class:"toast-icon"},qs={__name:"SetNewPassword",setup(_s){const l=i(""),u=i(""),r=i(!1),x=i(!1),q=i(!1),C=i(!1),S=i(!1),c=i(!1),n=i(""),v=i(""),y=i(!1),P=i(""),_=i("success"),b=h(()=>l.value.length>=8),m=h(()=>/[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]+/.test(l.value)),f=h(()=>/[A-Z]/.test(l.value)),g=h(()=>/[0-9]/.test(l.value)),z=h(()=>{if(!l.value)return{percentage:0,text:"",class:""};let s=0;return b.value&&(s+=25),m.value&&(s+=25),f.value&&(s+=25),g.value&&(s+=25),s<50?{percentage:s,text:"Yếu",class:"weak"}:s<75?{percentage:s,text:"Trung bình",class:"medium"}:s<100?{percentage:s,text:"Mạnh",class:"strong"}:{percentage:s,text:"Rất mạnh",class:"very-strong"}}),T=h(()=>b.value&&m.value&&f.value&&g.value&&l.value===u.value&&l.value!==""),L=(p,s="success")=>{P.value=p,_.value=s,y.value=!0,setTimeout(()=>{y.value=!1},3e3)},N=()=>{l.value?b.value?m.value?f.value?g.value?n.value="":n.value="Mật khẩu phải chứa ít nhất một chữ số":n.value="Mật khẩu phải chứa ít nhất một chữ hoa":n.value="Mật khẩu phải chứa ít nhất một ký tự đặc biệt":n.value="Mật khẩu phải có ít nhất 8 ký tự":n.value="Mật khẩu là bắt buộc",u.value&&V()},V=()=>{u.value?l.value!==u.value?v.value="Mật khẩu xác nhận không khớp":v.value="":v.value="Vui lòng xác nhận mật khẩu"},D=async()=>{if(N(),V(),!T.value){n.value?L(n.value,"error"):v.value&&L(v.value,"error");return}c.value=!0;try{await new Promise(p=>setTimeout(p,2e3)),console.log("Mật khẩu đã được đặt lại:",l.value),x.value=!0,L("Mật khẩu đã được đặt lại thành công!")}catch{L("Có lỗi xảy ra. Vui lòng thử lại!","error")}finally{c.value=!1}},E=()=>{x.value=!1},I=()=>{window.location.href="/Login"};return U(()=>{setTimeout(()=>{q.value=!0},100)}),(p,s)=>(e(),a("div",K,[s[33]||(s[33]=k('<div class="background-animation" data-v-f5a5bcb1><div class="floating-shape shape-1" data-v-f5a5bcb1></div><div class="floating-shape shape-2" data-v-f5a5bcb1></div><div class="floating-shape shape-3" data-v-f5a5bcb1></div><div class="floating-shape shape-4" data-v-f5a5bcb1></div></div>',1)),t("div",O,[t("div",{class:o(["set-password-container",{"animate-in":q.value}])},[s[24]||(s[24]=k('<div class="header-section" data-v-f5a5bcb1><div class="brand-logo" data-v-f5a5bcb1><div class="logo-icon" data-v-f5a5bcb1><svg viewBox="0 0 24 24" class="logo-svg" data-v-f5a5bcb1><path d="M12 2L2 7v10c0 5.55 3.84 10 9 11 1.16.21 2.76.21 3.91 0 5.16-1 9-5.45 9-11V7l-10-5z" data-v-f5a5bcb1></path><path d="M12 7v5l4 2-4 2v5" data-v-f5a5bcb1></path></svg></div><span class="brand-name" data-v-f5a5bcb1>OceanView Hotels</span></div></div>',1)),t("div",Q,[t("div",{class:o(["lock-icon-wrapper",{animate:q.value}])},s[7]||(s[7]=[k('<div class="lock-icon" data-v-f5a5bcb1><svg viewBox="0 0 24 24" class="lock-svg" data-v-f5a5bcb1><path d="M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2z" data-v-f5a5bcb1></path></svg></div><div class="pulse-ring" data-v-f5a5bcb1></div><div class="pulse-ring pulse-ring-2" data-v-f5a5bcb1></div>',3)]),2)]),s[25]||(s[25]=k('<div class="content-section" data-v-f5a5bcb1><h1 class="main-title" data-v-f5a5bcb1><span class="title-line" data-v-f5a5bcb1>Đặt mật khẩu</span><span class="title-highlight" data-v-f5a5bcb1>Mới</span></h1><div class="description" data-v-f5a5bcb1><p class="description-text" data-v-f5a5bcb1> Mật khẩu mới phải khác với mật khẩu đã sử dụng trước đó </p><p class="description-subtext" data-v-f5a5bcb1> Tạo mật khẩu mạnh để bảo vệ tài khoản của bạn </p></div></div>',1)),t("form",{onSubmit:H(D,["prevent"]),class:"password-form"},[t("div",R,[s[10]||(s[10]=t("label",{for:"password",class:"form-label"},[t("svg",{viewBox:"0 0 24 24",class:"label-icon"},[t("path",{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2z"})]),M(" Mật khẩu mới * ")],-1)),t("div",X,[$(t("input",{type:r.value?"text":"password",id:"password","onUpdate:modelValue":s[0]||(s[0]=d=>l.value=d),placeholder:"Nhập mật khẩu mới",class:o(["form-input",{error:n.value,success:l.value&&!n.value}]),onInput:N,onFocus:s[1]||(s[1]=d=>C.value=!0),onBlur:s[2]||(s[2]=d=>C.value=!1),required:""},null,42,Z),[[F,l.value]]),t("button",{type:"button",class:"password-toggle",onClick:s[3]||(s[3]=d=>r.value=!r.value),title:r.value?"Ẩn mật khẩu":"Hiển thị mật khẩu"},[r.value?(e(),a("svg",G,s[8]||(s[8]=[t("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78l3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z"},null,-1)]))):(e(),a("svg",J,s[9]||(s[9]=[t("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"},null,-1)])))],8,j)]),l.value?(e(),a("div",W,[t("div",ss,[t("div",{class:o(["strength-fill",z.value.class]),style:Y({width:`${z.value.percentage}%`})},null,6)]),t("span",{class:o(["strength-text",z.value.class])},B(z.value.text),3)])):w("",!0)]),t("div",ts,[s[13]||(s[13]=t("label",{for:"confirmPassword",class:"form-label"},[t("svg",{viewBox:"0 0 24 24",class:"label-icon"},[t("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"})]),M(" Xác nhận mật khẩu * ")],-1)),t("div",as,[$(t("input",{type:r.value?"text":"password",id:"confirmPassword","onUpdate:modelValue":s[4]||(s[4]=d=>u.value=d),placeholder:"Nhập lại mật khẩu mới",class:o(["form-input",{error:v.value,success:u.value&&!v.value}]),onInput:V,onFocus:s[5]||(s[5]=d=>S.value=!0),onBlur:s[6]||(s[6]=d=>S.value=!1),required:""},null,42,es),[[F,u.value]]),u.value&&!v.value?(e(),a("div",ls,s[11]||(s[11]=[t("svg",{viewBox:"0 0 24 24",class:"status-icon success"},[t("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"})],-1)]))):w("",!0)]),v.value?(e(),a("div",is,[s[12]||(s[12]=t("svg",{viewBox:"0 0 24 24",class:"error-icon"},[t("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})],-1)),M(" "+B(v.value),1)])):w("",!0)]),t("div",os,[s[22]||(s[22]=t("h4",{class:"requirements-title"},[t("svg",{viewBox:"0 0 24 24",class:"requirements-icon"},[t("path",{d:"M12 1L3 5v6c0 5.55 3.84 10 9 11 5.16-1 9-5.45 9-11V5l-9-4z"})]),M(" Yêu cầu mật khẩu ")],-1)),t("div",ns,[t("div",{class:o(["requirement-item",{valid:b.value}])},[t("div",vs,[b.value?(e(),a("svg",us,s[14]||(s[14]=[t("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"},null,-1)]))):(e(),a("div",ds))]),s[15]||(s[15]=t("span",{class:"requirement-text"},"Tối thiểu 8 ký tự",-1))],2),t("div",{class:o(["requirement-item",{valid:m.value}])},[t("div",rs,[m.value?(e(),a("svg",cs,s[16]||(s[16]=[t("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"},null,-1)]))):(e(),a("div",ps))]),s[17]||(s[17]=t("span",{class:"requirement-text"},"Ít nhất một ký tự đặc biệt",-1))],2),t("div",{class:o(["requirement-item",{valid:f.value}])},[t("div",hs,[f.value?(e(),a("svg",bs,s[18]||(s[18]=[t("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"},null,-1)]))):(e(),a("div",ms))]),s[19]||(s[19]=t("span",{class:"requirement-text"},"Ít nhất một chữ hoa",-1))],2),t("div",{class:o(["requirement-item",{valid:g.value}])},[t("div",fs,[g.value?(e(),a("svg",gs,s[20]||(s[20]=[t("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"},null,-1)]))):(e(),a("div",ks))]),s[21]||(s[21]=t("span",{class:"requirement-text"},"Ít nhất một chữ số",-1))],2)])]),t("button",{type:"submit",class:o(["submit-button",{loading:c.value}]),disabled:!T.value||c.value},[t("div",Ms,[c.value?(e(),a("div",ys)):(e(),a("svg",xs,s[23]||(s[23]=[t("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"},null,-1)]))),t("span",null,B(c.value?"Đang xử lý...":"Đặt lại mật khẩu"),1)])],10,ws)],32),s[26]||(s[26]=k('<div class="back-section" data-v-f5a5bcb1><a href="/Login" class="back-link" data-v-f5a5bcb1><svg viewBox="0 0 24 24" class="back-icon" data-v-f5a5bcb1><path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.42-1.41L7.83 13H20v-2z" data-v-f5a5bcb1></path></svg><span data-v-f5a5bcb1>Quay lại trang đăng nhập</span></a></div><div class="security-tips" data-v-f5a5bcb1><h4 data-v-f5a5bcb1>💡 Mẹo bảo mật</h4><ul class="tips-list" data-v-f5a5bcb1><li data-v-f5a5bcb1>Sử dụng mật khẩu duy nhất cho mỗi tài khoản</li><li data-v-f5a5bcb1>Không chia sẻ mật khẩu với người khác</li><li data-v-f5a5bcb1>Cập nhật mật khẩu định kỳ</li></ul></div>',2))],2)]),x.value?(e(),a("div",{key:0,class:"success-modal",onClick:H(E,["self"])},[t("div",{class:o(["success-container",{"animate-in":x.value}])},[s[28]||(s[28]=t("div",{class:"success-icon"},[t("svg",{viewBox:"0 0 24 24"},[t("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"})])],-1)),s[29]||(s[29]=t("h3",null,"Đặt lại mật khẩu thành công!",-1)),s[30]||(s[30]=t("p",null,"Mật khẩu của bạn đã được cập nhật. Bạn sẽ được chuyển hướng đến trang đăng nhập.",-1)),t("button",{class:"success-btn",onClick:I},s[27]||(s[27]=[t("svg",{viewBox:"0 0 24 24"},[t("path",{d:"M10 17l5-5-5-5v10z"})],-1),M(" Tiếp tục đăng nhập ")]))],2)])):w("",!0),y.value?(e(),a("div",{key:1,class:o(["toast",[_.value,{show:y.value}]])},[t("div",zs,[_.value==="success"?(e(),a("svg",Ls,s[31]||(s[31]=[t("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"},null,-1)]))):(e(),a("svg",Bs,s[32]||(s[32]=[t("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"},null,-1)]))),t("span",null,B(P.value),1)])],2)):w("",!0)]))}},Ss=A(qs,[["__scopeId","data-v-f5a5bcb1"]]);export{Ss as default};
