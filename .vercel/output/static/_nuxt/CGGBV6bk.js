import{j as x,I as B,h as d,l as D,m as L,c as l,b as _,a as s,F as h,f as g,t as e,d as u,n as v,w as M,x as V,r as w,D as G,o as r}from"./XxkKQ-J5.js";import{T as S}from"./OPk3RF-n.js";import{_ as I}from"./DlAUqK2U.js";import"./CsSGlVYz.js";import"./D5qk9RRY.js";const z={class:"room-detail-wrapper"},F={class:"room-detail-left"},R={class:"main-image"},j=["src"],E={class:"sub-images"},H=["src"],K={class:"room-detail-right"},$={class:"room-title"},q={class:"room-price"},J={class:"room-status"},O={class:"room-info-list"},Q={class:"room-desc"},U={class:"amenities"},W={class:"amenity-list"},X=["title"],Y={class:"feedbacks"},Z={key:0},ss={class:"feedback-stars"},as={class:"feedback-comment"},ts={key:1,class:"feedback-empty"},ns={class:"actions"},es={__name:"[maPhong]",setup(os){const p=x();p.initializeDarkMode();const y=B(),k=G(),f=y.params.maPhong,t=d({}),T=d([]),b=d([]),A=d([]),c=d([]),P=d([]);D(async()=>{var i;try{const n=(i=(await L.get(`/TatCaTruyCap/phong/${f}`)).data)==null?void 0:i.data;n&&(t.value=n,T.value=Array.isArray(n.urlAnhPhu)?n.urlAnhPhu:[],b.value=Array.isArray(n.tienNghi)?n.tienNghi:[],A.value=Array.isArray(n.giamGia)?n.giamGia:[],c.value=Array.isArray(n.feedbacks)?n.feedbacks:[],P.value=Array.isArray(n.yeuThich)?n.yeuThich:[])}catch{}});function C(){k.push({name:"DatPhong",params:{maPhong:t.value.maPhong}})}function N(i){return i=Number(i)||0,"★".repeat(i)+"☆".repeat(5-i)}return(i,a)=>{const n=w("va-button");return r(),l(h,null,[_(S),s("div",{class:v(["room-detail-theme",{"dark-mode":V(p).isDarkMode}])},[s("div",z,[s("div",F,[s("div",R,[s("img",{src:t.value.urlAnhChinh,alt:"Ảnh chính"},null,8,j)]),s("div",E,[(r(!0),l(h,null,g(t.value.urlAnhPhu,(o,m)=>(r(),l("img",{key:m,src:o.urlAnh,alt:"Ảnh phụ",class:"sub-img"},null,8,H))),128))])]),s("div",K,[s("h1",$,e(t.value.loaiPhong)+" (Mã: "+e(t.value.maPhong)+")",1),s("div",q,[a[0]||(a[0]=s("span",null,"💵 Giá:",-1)),u(" "+e(t.value.giaPhong!=null?t.value.giaPhong.toLocaleString():"Đang cập nhật")+" VND / "+e(t.value.donViTinh||""),1)]),s("div",J,[a[1]||(a[1]=s("span",null,"🔥 Trạng thái:",-1)),s("span",{class:v(t.value.tinhTrang==="1"?"status-available":"status-unavailable")},e(t.value.tinhTrang==="1"?"Còn trống":"Đã đặt"),3)]),s("div",O,[s("div",null,[a[2]||(a[2]=s("strong",null,"🏢 Tầng:",-1)),u(" "+e(t.value.tang),1)]),s("div",null,[a[3]||(a[3]=s("strong",null,"🛏️ Kiểu giường:",-1)),u(" "+e(t.value.kieuGiuong),1)]),s("div",null,[a[4]||(a[4]=s("strong",null,"👥 Sức chứa:",-1)),u(" "+e(t.value.sucChua)+" người",1)]),s("div",null,[a[5]||(a[5]=s("strong",null,"⭐ Đánh giá:",-1)),u(" "+e(t.value.soSaoTrungBinh)+"/5",1)])]),s("div",Q,[a[6]||(a[6]=s("strong",null,"📝 Mô tả:",-1)),u(" "+e(t.value.moTa||t.value.motaPhong),1)]),s("div",U,[a[8]||(a[8]=s("strong",null,"📶 Tiện nghi:",-1)),s("div",W,[(r(!0),l(h,null,g(i.tienNghi,o=>(r(),l("span",{key:o.maTienNghi,class:"amenity-item",title:o.moTa},[a[7]||(a[7]=s("i",{class:"fa fa-check-circle amenity-icon"},null,-1)),u(" "+e(o.tenTienNghi),1)],8,X))),128))])]),s("div",Y,[a[9]||(a[9]=s("strong",null,"🗨️ Đánh giá khách hàng:",-1)),Array.isArray(c.value)&&c.value.length?(r(),l("div",Z,[(r(!0),l(h,null,g(c.value,(o,m)=>(r(),l("div",{key:m,class:"feedback-item"},[s("span",ss,e(N(o.soSao)),1),s("span",{class:v(["feedback-type",o.phanLoai==="Tích cực"?"positive":"negative"])},e(o.phanLoai),3),s("div",as,e(o.binhLuan),1)]))),128))])):(r(),l("div",ts,"Chưa có đánh giá nào."))]),s("div",ns,[_(n,{disabled:t.value.tinhTrang!=="1",color:"primary",class:"book-button",onClick:C},{default:M(()=>a[10]||(a[10]=[u(" 📩 Đặt phòng ")])),_:1,__:[10]},8,["disabled"])])])])],2)],64)}}},cs=I(es,[["__scopeId","data-v-d522239b"]]);export{cs as default};
