import{h as t,k as V,l as _,c as e,e as b,a as s,i as r,y as $,d as x,p as B,q,n as m,t as u,N as Q,s as A,o as l,m as G}from"./SG-_7NVK.js";import{u as K,a as C}from"./DAKWoY-d.js";import{_ as O}from"./DlAUqK2U.js";const J={class:"login-container"},j={class:"login-card"},R={class:"form-group"},W={class:"input-wrapper"},X={key:0,class:"input-status"},Y={key:0,class:"error-message"},Z={class:"form-group"},aa={class:"input-wrapper"},sa=["type"],ta=["title"],ea={key:0,viewBox:"0 0 24 24"},la={key:1,viewBox:"0 0 24 24"},oa={key:0,class:"error-message"},na={class:"form-options"},da={class:"remember-me"},ia={key:0,class:"error-alert"},va=["disabled"],ca={class:"btn-content"},ra={key:0,viewBox:"0 0 24 24",class:"btn-icon"},ua={key:1,class:"loading-spinner"},pa={key:0,class:"profile-section"},fa={class:"profile-card"},ha={class:"profile-content"},ga={class:"profile-data"},ma={class:"toast-content"},ka={key:0,viewBox:"0 0 24 24",class:"toast-icon"},wa={key:1,viewBox:"0 0 24 24",class:"toast-icon"},za={__name:"DangNhapPhu",setup(ba){const n=t(""),d=t(""),i=t(!1),p=t(""),f=t(""),L=t(!1),h=t(!1),S=t(!1),H=t(!1),T=t(!1),v=t(""),c=t(""),k=t(!1),N=t(""),M=t("success"),U=K(),w=V(()=>!!v.value),y=V(()=>!!c.value),F=V(()=>n.value&&d.value&&!w.value&&!y.value),E=()=>{n.value?n.value.length<3?v.value="Tên tài khoản phải có ít nhất 3 ký tự":v.value="":v.value="Vui lòng nhập tên tài khoản"},P=()=>{d.value?d.value.length<6?c.value="Mật khẩu phải có ít nhất 6 ký tự":c.value="":c.value="Vui lòng nhập mật khẩu"},g=(z,a="success")=>{N.value=z,M.value=a,k.value=!0,setTimeout(()=>{k.value=!1},3e3)},D=async()=>{if(E(),P(),!F.value){g("Vui lòng kiểm tra lại thông tin đăng nhập","error");return}p.value="",f.value="",i.value=!0;try{if(await U.login(n.value,d.value)){{const a=C("token").value,o=C("role").value,I=C("userId").value;g("Đăng nhập thành công!"),setTimeout(()=>{alert(`Đăng nhập thành công!
Token: `+a+`
Vai trò: `+o+`
Mã khách hàng: `+I)},500)}try{const a=await G.get("/xacthuc/profile");f.value=JSON.stringify(a.data,null,2)}catch{f.value="Không lấy được thông tin người dùng!",g("Không thể tải thông tin người dùng","error")}}else p.value="Sai tài khoản hoặc mật khẩu!",g("Đăng nhập thất bại. Vui lòng kiểm tra lại thông tin!","error")}catch{p.value="Có lỗi xảy ra. Vui lòng thử lại!",g("Có lỗi xảy ra. Vui lòng thử lại!","error")}finally{i.value=!1}};return _(()=>{setTimeout(()=>{L.value=!0},100)}),(z,a)=>(l(),e("div",J,[a[29]||(a[29]=b('<div class="background-animation" data-v-dcfd6af9><div class="floating-shape shape-1" data-v-dcfd6af9></div><div class="floating-shape shape-2" data-v-dcfd6af9></div><div class="floating-shape shape-3" data-v-dcfd6af9></div><div class="floating-shape shape-4" data-v-dcfd6af9></div></div>',1)),s("div",{class:m(["login-wrapper",{"animate-in":L.value}])},[a[26]||(a[26]=b('<div class="hotel-branding" data-v-dcfd6af9><div class="logo-section" data-v-dcfd6af9><div class="logo-icon" data-v-dcfd6af9><svg viewBox="0 0 24 24" class="logo-svg" data-v-dcfd6af9><path d="M12 2L2 7v10c0 5.55 3.84 10 9 11 1.16.21 2.76.21 3.91 0 5.16-1 9-5.45 9-11V7l-10-5z" data-v-dcfd6af9></path><path d="M12 7v5l4 2-4 2v5" data-v-dcfd6af9></path></svg></div><div class="logo-text" data-v-dcfd6af9><h1 data-v-dcfd6af9>OceanView Hotels</h1><p data-v-dcfd6af9>Luxury Experience</p></div></div><div class="welcome-text" data-v-dcfd6af9><h2 data-v-dcfd6af9>Chào mừng trở lại</h2><p data-v-dcfd6af9>Đăng nhập để truy cập tài khoản của bạn</p></div></div>',1)),s("div",j,[a[22]||(a[22]=s("div",{class:"card-header"},[s("div",{class:"header-icon"},[s("svg",{viewBox:"0 0 24 24",class:"icon-svg"},[s("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"})])]),s("h3",null,"Đăng nhập tài khoản"),s("p",null,"Vui lòng nhập thông tin đăng nhập của bạn")],-1)),s("form",{onSubmit:$(D,["prevent"]),class:"login-form"},[s("div",R,[a[11]||(a[11]=s("label",{for:"username",class:"form-label"},[s("svg",{viewBox:"0 0 24 24",class:"label-icon"},[s("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"})]),x(" Tên tài khoản ")],-1)),s("div",W,[a[9]||(a[9]=s("svg",{viewBox:"0 0 24 24",class:"input-icon"},[s("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"})],-1)),B(s("input",{id:"username","onUpdate:modelValue":a[0]||(a[0]=o=>n.value=o),type:"text",placeholder:"Nhập tên tài khoản",class:m(["form-input",{error:w.value,success:n.value&&!w.value}]),onInput:E,onFocus:a[1]||(a[1]=o=>H.value=!0),onBlur:a[2]||(a[2]=o=>H.value=!1),required:""},null,34),[[q,n.value]]),n.value&&!w.value?(l(),e("div",X,a[8]||(a[8]=[s("svg",{viewBox:"0 0 24 24",class:"status-icon success"},[s("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"})],-1)]))):r("",!0)]),v.value?(l(),e("div",Y,[a[10]||(a[10]=s("svg",{viewBox:"0 0 24 24",class:"error-icon"},[s("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})],-1)),x(" "+u(v.value),1)])):r("",!0)]),s("div",Z,[a[16]||(a[16]=s("label",{for:"password",class:"form-label"},[s("svg",{viewBox:"0 0 24 24",class:"label-icon"},[s("path",{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2z"})]),x(" Mật khẩu ")],-1)),s("div",aa,[a[14]||(a[14]=s("svg",{viewBox:"0 0 24 24",class:"input-icon"},[s("path",{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2z"})],-1)),B(s("input",{id:"password","onUpdate:modelValue":a[3]||(a[3]=o=>d.value=o),type:h.value?"text":"password",placeholder:"Nhập mật khẩu",class:m(["form-input",{error:y.value,success:d.value&&!y.value}]),onInput:P,onFocus:a[4]||(a[4]=o=>T.value=!0),onBlur:a[5]||(a[5]=o=>T.value=!1),required:""},null,42,sa),[[Q,d.value]]),s("button",{type:"button",class:"password-toggle",onClick:a[6]||(a[6]=o=>h.value=!h.value),title:h.value?"Ẩn mật khẩu":"Hiển thị mật khẩu"},[h.value?(l(),e("svg",ea,a[12]||(a[12]=[s("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78l3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z"},null,-1)]))):(l(),e("svg",la,a[13]||(a[13]=[s("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"},null,-1)])))],8,ta)]),c.value?(l(),e("div",oa,[a[15]||(a[15]=s("svg",{viewBox:"0 0 24 24",class:"error-icon"},[s("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})],-1)),x(" "+u(c.value),1)])):r("",!0)]),s("div",na,[s("label",da,[B(s("input",{type:"checkbox","onUpdate:modelValue":a[7]||(a[7]=o=>S.value=o)},null,512),[[A,S.value]]),a[17]||(a[17]=s("span",{class:"checkmark"},null,-1)),a[18]||(a[18]=s("span",{class:"remember-text"},"Ghi nhớ đăng nhập",-1))]),a[19]||(a[19]=s("a",{href:"/forgot-password",class:"forgot-link"},"Quên mật khẩu?",-1))]),p.value?(l(),e("div",ia,[a[20]||(a[20]=s("svg",{viewBox:"0 0 24 24",class:"alert-icon"},[s("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})],-1)),s("span",null,u(p.value),1)])):r("",!0),s("button",{type:"submit",class:m(["login-button",{loading:i.value}]),disabled:!F.value||i.value},[s("div",ca,[i.value?(l(),e("div",ua)):(l(),e("svg",ra,a[21]||(a[21]=[s("path",{d:"M10 17l5-5-5-5v10z"},null,-1)]))),s("span",null,u(i.value?"Đang đăng nhập...":"Đăng nhập"),1)])],10,va)],32),a[23]||(a[23]=b('<div class="additional-options" data-v-dcfd6af9><div class="divider" data-v-dcfd6af9><span data-v-dcfd6af9>hoặc</span></div><div class="social-login" data-v-dcfd6af9><button class="social-btn google" type="button" data-v-dcfd6af9><svg viewBox="0 0 24 24" class="social-icon" data-v-dcfd6af9><path d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z" fill="#4285F4" data-v-dcfd6af9></path><path d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z" fill="#34A853" data-v-dcfd6af9></path><path d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z" fill="#FBBC05" data-v-dcfd6af9></path><path d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z" fill="#EA4335" data-v-dcfd6af9></path></svg><span data-v-dcfd6af9>Đăng nhập với Google</span></button><button class="social-btn facebook" type="button" data-v-dcfd6af9><svg viewBox="0 0 24 24" class="social-icon" data-v-dcfd6af9><path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z" fill="#1877F2" data-v-dcfd6af9></path></svg><span data-v-dcfd6af9>Đăng nhập với Facebook</span></button></div></div><div class="register-section" data-v-dcfd6af9><p data-v-dcfd6af9>Chưa có tài khoản? <a href="/register" class="register-link" data-v-dcfd6af9>Đăng ký ngay</a></p></div>',2))]),f.value?(l(),e("div",pa,[s("div",fa,[a[25]||(a[25]=s("div",{class:"profile-header"},[s("svg",{viewBox:"0 0 24 24",class:"profile-icon"},[s("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"})]),s("h4",null,"Đăng nhập thành công!")],-1)),s("div",ha,[a[24]||(a[24]=s("h5",null,"Thông tin người dùng:",-1)),s("pre",ga,u(f.value),1)])])])):r("",!0)],2),a[30]||(a[30]=b('<div class="support-section" data-v-dcfd6af9><p data-v-dcfd6af9>Cần hỗ trợ?</p><div class="support-contacts" data-v-dcfd6af9><a href="tel:1900-1234" class="support-contact" data-v-dcfd6af9><svg viewBox="0 0 24 24" data-v-dcfd6af9><path d="M6.62 10.79c1.44 2.83 3.76 5.14 6.59 6.59l2.2-2.2c.27-.27.67-.36 1.02-.24 1.12.37 2.33.57 3.57.57.55 0 1 .45 1 1V20c0 .55-.45 1-1 1-9.39 0-17-7.61-17-17 0-.55.45-1 1-1h3.5c.55 0 1 .45 1 1 0 1.25.2 2.45.57 3.57.11.35.03.74-.25 1.02l-2.2 2.2z" data-v-dcfd6af9></path></svg><span data-v-dcfd6af9>1900-1234</span></a><a href="mailto:support@oceanview.com" class="support-contact" data-v-dcfd6af9><svg viewBox="0 0 24 24" data-v-dcfd6af9><path d="M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z" data-v-dcfd6af9></path></svg><span data-v-dcfd6af9>support@oceanview.com</span></a></div></div>',1)),k.value?(l(),e("div",{key:0,class:m(["toast",[M.value,{show:k.value}]])},[s("div",ma,[M.value==="success"?(l(),e("svg",ka,a[27]||(a[27]=[s("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"},null,-1)]))):(l(),e("svg",wa,a[28]||(a[28]=[s("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"},null,-1)]))),s("span",null,u(N.value),1)])],2)):r("",!0)]))}},Va=O(za,[["__scopeId","data-v-dcfd6af9"]]);export{Va as default};
